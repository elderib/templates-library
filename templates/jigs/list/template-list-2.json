{
  "title": "Opportunities",
  "type": "jig.list",
  "header": {
    "type": "component.jig-header",
    "options": {
      "height": "medium",
      "children": {
        "type": "component.image",
        "options": {
          "source": {
            "uri": "https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2338&q=80"
          },
          "title": "Opportunities",
          "subtitle": "Period Q3 2022"
        }
      }
    }
  },
  "filter": [
    {
      "title": "All",
      "value": "ALL"
    },
    {
      "title": "Won",
      "value": "Success"
    },
    {
      "title": "Lost",
      "value": "Unsuccess"
    }
  ],
  "summary": {
    "children": {
      "type": "component.summary",
      "options": {
        "layout": "counter",
        "value": "=$count(@ctx.datasources.components)",
        "title": "Opportunities",
        "subtitle": "=\"Worth than\" & \" $ \" & $sum(@ctx.datasources.components.value)"
      }
    }
  },
  "actions": [
    {
      "children": [
        {
          "type": "action.go-to",
          "options": {
            "title": "Add new opportunity",
            "linkTo": "create the file for this action"
          }
        }
      ]
    }
  ],
  "datasources": {
    "chart-data": {
      "type": "datasource.static",
      "options": {
        "data": [
          {
            "y": "=ctx.datasources.components"
          },
          {
            "y": 23,
            "color": "transparent"
          }
        ]
      }
    },
    "components": {
      "type": "datasource.static",
      "options": {
        "data": [
          {
            "avatar-text": "B",
            "avatar-uri": "https://robohash.org/aloha",
            "badge": "off",
            "label-color": "color4",
            "name": "Belantti",
            "progress": 0.54,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "APAC",
            "value": 115000
          },
          {
            "avatar-text": "TT",
            "avatar-uri": null,
            "badge": "off",
            "highlight": false,
            "label-color": "color7",
            "name": "Ten Tulip",
            "progress": 0.6,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "APAC",
            "value": 107000
          },
          {
            "avatar-text": "GS",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color8",
            "name": "Giga Stride",
            "progress": 0.21,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "North America",
            "value": 102500
          },
          {
            "avatar-text": "O",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color9",
            "name": "Ovuga",
            "progress": 0.45,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "EMEA",
            "value": 98000
          },
          {
            "avatar-text": "B",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color10",
            "name": "Boostgo",
            "progress": 0.8,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "North America",
            "value": 56000
          },
          {
            "avatar-text": "SA",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color13",
            "name": "Sonic Automotive",
            "progress": 0.22,
            "reason": null,
            "result": null,
            "status": "Progress",
            "subtitle": "EMEA",
            "value": 37000
          },
          {
            "avatar-text": "FL",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color11",
            "name": "Foot Locker",
            "progress": 0.47,
            "reason": "Stopped Because Of High Price",
            "result": "Unsuccess",
            "status": "Finished",
            "subtitle": "North America",
            "value": 42000
          },
          {
            "avatar-text": "MM",
            "avatar-uri": "https://robohash.org/Mega",
            "badge": "on",
            "label-color": "color5",
            "name": "Mega Mile",
            "progress": 0.78,
            "reason": "Stopped Because Of High Price",
            "result": "Unsuccess",
            "status": "Finished",
            "subtitle": "EMEA",
            "value": 154000
          },
          {
            "avatar-text": "E",
            "avatar-uri": "https://robohash.org/jigx",
            "badge": "on",
            "label-color": "color3",
            "name": "Ellesti",
            "progress": 1,
            "reason": null,
            "result": "Success",
            "status": "Finished",
            "subtitle": "LATAM",
            "value": 120000
          },
          {
            "avatar-text": "JE",
            "avatar-uri": null,
            "badge": "off",
            "label-color": "color12",
            "name": "Jacobs Engineering Group",
            "progress": 1,
            "reason": null,
            "result": "Success",
            "status": "Finished",
            "subtitle": "EMEA",
            "value": 38500
          }
        ]
      }
    }
  },
  "data": "=$filter(@ctx.datasources.components, function($v, $i, $a) {\n  @ctx.jig.state.filter = 'ALL' or $v.result = @ctx.jig.state.filter\n}) \n",
  "item": {
    "type": "component.list-item",
    "options": {
      "title": "=@ctx.current.item.name",
      "subtitle": "=@ctx.current.item.reason",
      "color": [
        {
          "when": "=(@ctx.current.item.result= 'Success' ? true :false)",
          "color": "color2"
        }
      ],
      "progress": "=@ctx.current.item.progress",
      "leftElement": {
        "element": "checkbox",
        "value": "=(@ctx.current.item.status= 'Finished' ? true :false)"
      },
      "style": {
        "isError": "=(@ctx.current.item.result= 'Unsuccess' ? true :false)",
        "isStrikeThrough": "=(@ctx.current.item.status= 'Finished' ? true :false)"
      },
      "rightElement": {
        "element": "value",
        "text": "=\"$ \" & @ctx.current.item.value"
      }
    }
  }
}

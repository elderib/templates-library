{
  "title": "Opportunities",
  "type": "jig.list",
  "header": {
    "type": "component.jig-header",
    "options": {
      "height": "medium",
      "children": {
        "type": "component.image",
        "options": {
          "source": {
            "uri": "https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2338&q=80"
          },
          "title": "Opportunities",
          "subtitle": "Period Q3 2022"
        }
      }
    }
  },
  "filter": [
    {
      "title": "All",
      "value": "ALL"
    },
    {
      "title": "Won",
      "value": "Success"
    },
    {
      "title": "Lost",
      "value": "Unsuccess"
    }
  ],
  "summary": {
    "children": {
      "type": "component.summary",
      "options": {
        "layout": "counter",
        "value": "=$count(@ctx.datasources.components)",
        "title": "Opportunities",
        "subtitle": "=\"Worth than\" & \" $ \" & $sum(@ctx.datasources.components.value)"
      }
    }
  },
  "actions": [
    {
      "children": [
        {
          "type": "action.go-to",
          "options": {
            "title": "Add new opportunity",
            "linkTo": "create the file for this action"
          }
        }
      ]
    }
  ],
  "datasources": {
    "chart-data": {
      "type": "datasource.static",
      "options": {
        "data": [
          {
            "y": "=ctx.datasources.components"
          },
          {
            "y": 23,
            "color": "transparent"
          }
        ]
      }
    }
  },
  "data": "=$filter(@ctx.datasources.components, function($v, $i, $a) {\n  @ctx.jig.state.filter = 'ALL' or $v.result = @ctx.jig.state.filter\n}) \n",
  "item": {
    "type": "component.list-item",
    "options": {
      "title": "=@ctx.current.item.name",
      "subtitle": "=@ctx.current.item.reason",
      "color": [
        {
          "when": "=(@ctx.current.item.result= 'Success' ? true :false)",
          "color": "color2"
        }
      ],
      "progress": "=@ctx.current.item.progress",
      "leftElement": {
        "element": "checkbox",
        "value": "=(@ctx.current.item.status= 'Finished' ? true :false)"
      },
      "style": {
        "isError": "=(@ctx.current.item.result= 'Unsuccess' ? true :false)",
        "isStrikeThrough": "=(@ctx.current.item.status= 'Finished' ? true :false)"
      },
      "rightElement": {
        "element": "value",
        "text": "=\"$ \" & @ctx.current.item.value"
      }
    }
  }
}
